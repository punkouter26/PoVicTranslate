sequenceDiagram
    actor User
    participant UI as Translation Page
    participant ClientService as ClientTranslationService
    participant API as TranslationController
    participant Service as TranslationService
    participant OpenAI as Azure OpenAI
    participant Telemetry as Application Insights

    User->>UI: Enter text & click "Make It Victorian"
    UI->>UI: Validate input (200 word limit)
    
    alt Input Valid
        UI->>ClientService: TranslateAsync(text)
        ClientService->>API: POST /Translation/translate
        
        API->>Service: TranslateToVictorianEnglishAsync(text)
        Service->>Telemetry: Track Event (Translation_Request)
        Service->>Telemetry: Track Metric (InputLength)
        
        Service->>OpenAI: CompleteChatAsync(messages)
        OpenAI-->>Service: Victorian translation
        
        Service->>Telemetry: Track Event (Success)
        Service->>Telemetry: Track Metric (Duration, OutputLength)
        Service-->>API: Victorian text
        
        API-->>ClientService: TranslationResponse
        ClientService-->>UI: Display result
        
        UI->>User: Show Victorian translation
        
        opt User clicks "Speak It Proper"
            UI->>ClientService: SynthesizeSpeechAsync(text)
            ClientService->>API: POST /Speech/synthesize
            API-->>ClientService: Audio bytes
            ClientService->>UI: Play audio
            UI->>User: Victorian audio playback
        end
        
    else Input Invalid
        UI->>User: Show validation error
    end

    opt Error occurs
        Service->>Telemetry: Track Exception
        Service-->>API: Throw exception
        API-->>ClientService: Error response
        ClientService-->>UI: Error message
        UI->>User: Display error
    end
