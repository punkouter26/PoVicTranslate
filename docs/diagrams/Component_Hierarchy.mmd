```mermaid
graph TD
    App[App.razor] --> MainLayout[MainLayout.razor]
    
    MainLayout --> Header[Header Section]
    MainLayout --> Body[Main Content Area]
    MainLayout --> Footer[Footer Section]
    
    Header --> Brand[Brand Logo & Tagline]
    Header --> ThemeToggle[NEW: Theme Toggle Button]
    Header --> HistoryButton[NEW: History Drawer Toggle]
    
    Body --> Translation[Translation.razor]
    
    Translation --> Hero[Hero Section<br/>Stats & Title]
    Translation --> InputSection[Input Section]
    Translation --> ActionSection[Action Section]
    Translation --> ResultsSection[Results Section]
    Translation --> ErrorSection[Error Section]
    
    InputSection --> SongAccordion[NEW: Song Selector Accordion]
    InputSection --> Divider[Section Divider]
    InputSection --> CustomAccordion[NEW: Custom Input Accordion]
    
    SongAccordion --> SearchBar[NEW: Smart Search Bar<br/>Autocomplete]
    SongAccordion --> SongDropdown[Song Dropdown]
    SongAccordion --> RandomButton[Random Button]
    SongAccordion --> PreviewCard[NEW: Song Preview Card]
    
    CustomAccordion --> InputLabel[Input Label]
    CustomAccordion --> TextareaWrapper[Textarea Wrapper]
    CustomAccordion --> ProgressRing[NEW: Progress Ring Counter]
    
    ActionSection --> TranslateButton[Translate Button]
    ActionSection --> FAB[NEW: Floating Action Button<br/>Mobile Only]
    
    ResultsSection --> ResultLabel[Result Label]
    ResultsSection --> ResultCard[Result Card]
    ResultsSection --> AudioSection[Audio Section]
    
    ResultCard --> CopyButton[Copy Button<br/>ENHANCED: Visual Feedback]
    ResultCard --> EditButton[NEW: Edit Mode Toggle]
    ResultCard --> ResultContent[Result Content<br/>ENHANCED: Editable]
    
    AudioSection --> SpeakButton[Speak Button<br/>Audio Visualizer]
    
    ErrorSection --> ErrorDisplay[Error Alert]
    
    Translation --> HistoryDrawer[NEW: History Side Drawer]
    Translation --> ToastContainer[NEW: Toast Notifications]
    Translation --> SwipeHandler[NEW: Swipe Gesture Handler]
    
    HistoryDrawer --> HistoryHeader[Drawer Header]
    HistoryDrawer --> HistoryList[History Items List]
    HistoryDrawer --> ClearHistory[Clear All Button]
    
    HistoryList --> HistoryItem1[History Item 1<br/>Swipe-to-Delete]
    HistoryList --> HistoryItem2[History Item 2<br/>Swipe-to-Delete]
    HistoryList --> HistoryItem3[History Item 3<br/>Swipe-to-Delete]
    
    style Translation fill:#ffd700,stroke:#ff8c00,stroke-width:3px,color:#000
    style FAB fill:#ff6b6b,stroke:#c92a2a,stroke-width:3px,color:#fff
    style ProgressRing fill:#ff6b6b,stroke:#c92a2a,stroke-width:3px,color:#fff
    style SearchBar fill:#ff6b6b,stroke:#c92a2a,stroke-width:3px,color:#fff
    style HistoryDrawer fill:#ffd43b,stroke:#fab005,stroke-width:2px,color:#000
    style ThemeToggle fill:#ffd43b,stroke:#fab005,stroke-width:2px,color:#000
    style PreviewCard fill:#ffd43b,stroke:#fab005,stroke-width:2px,color:#000
    style SwipeHandler fill:#00aaff,stroke:#0088cc,stroke-width:2px,color:#fff
    style EditButton fill:#00aaff,stroke:#0088cc,stroke-width:2px,color:#fff
    
    classDef new fill:#51cf66,stroke:#2f9e44,stroke-width:2px
    classDef enhanced fill:#339af0,stroke:#1971c2,stroke-width:2px
    classDef existing fill:#868e96,stroke:#495057,stroke-width:1px
    
    class ThemeToggle,HistoryButton,SearchBar,PreviewCard,ProgressRing,FAB,HistoryDrawer,ToastContainer,SwipeHandler,EditButton new
    class CopyButton,ResultContent enhanced
    class App,MainLayout,Header,Footer,Hero,SongDropdown,RandomButton,TranslateButton,SpeakButton existing
```
