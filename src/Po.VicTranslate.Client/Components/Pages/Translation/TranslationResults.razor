<div class="results-section animate-slide-up">
    <label class="urban-label results-label">
        <i class="fas fa-scroll"></i>
        Translation
    </label>
    
    <div class="result-card">
        <div class="result-actions">
            <button class="copy-btn" @onclick="OnCopyClickAsync" title="Copy to clipboard">
                <i class="fas fa-copy"></i>
            </button>
        </div>
        <EditMode 
            Text="@TranslatedText"
            IsEditMode="@IsEditMode"
            OnEnterEdit="@OnEnterEdit"
            OnSaveEdit="@OnSaveEditAsync"
            OnCancelEdit="@OnCancelEdit"
            OnRetranslateRequested="@OnRetranslateAsync"
        />
    </div>
</div>

@code {
    [Parameter, EditorRequired]
    public string TranslatedText { get; set; } = string.Empty;

    [Parameter]
    public bool IsEditMode { get; set; }

    [Parameter, EditorRequired]
    public EventCallback OnCopyClick { get; set; }

    [Parameter, EditorRequired]
    public EventCallback OnEnterEdit { get; set; }

    [Parameter, EditorRequired]
    public EventCallback<string> OnSaveEdit { get; set; }

    [Parameter, EditorRequired]
    public EventCallback OnCancelEdit { get; set; }

    [Parameter, EditorRequired]
    public EventCallback OnRetranslate { get; set; }

    private async Task OnCopyClickAsync()
    {
        await OnCopyClick.InvokeAsync();
    }

    private async Task OnSaveEditAsync(string editedText)
    {
        await OnSaveEdit.InvokeAsync(editedText);
    }

    private async Task OnRetranslateAsync()
    {
        await OnRetranslate.InvokeAsync();
    }
}
